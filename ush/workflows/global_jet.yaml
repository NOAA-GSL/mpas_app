user:
  mesh_label: x1.40962
  platform: jet
  workflow_blocks: 
    - cold_start.yaml
    - post.yaml
data:
  mesh_files: /lfs5/BMC/gsd-fv3-dev/mpas_dev/meshes/120-km-global/
create_ics:
  mpas_init: &mpas_init_config
    execution:
      batchargs:
        cores: 128
        walltime: 02:30:00
    files_to_link:
      MP_THOMPSON_QRacrQG_DATA.DBL: !remove
      MP_THOMPSON_QRacrQS_DATA.DBL: !remove
      MP_THOMPSON_freezeH2O_DATA.DBL: !remove
      MP_THOMPSON_QIautQS_DATA.DBL: !remove
      MP_TEMPO_QRacrQS_DATA.DBL: /mnt/lfs5/BMC/gsd-fv3-dev/mpas_dev/hrrr_fix/tables_tempo/MP_TEMPO_QRacrQS_DATA.DBL
      MP_TEMPO_freezeH2O_DATA.DBL: /mnt/lfs5/BMC/gsd-fv3-dev/mpas_dev/hrrr_fix/tables_tempo/MP_TEMPO_freezeH2O_DATA.DBL
      MP_TEMPO_QIautQS_DATA.DBL: /mnt/lfs5/BMC/gsd-fv3-dev/mpas_dev/hrrr_fix/tables_tempo/MP_TEMPO_QIautQS_DATA.DBL
      MP_TEMPO_HAILAWARE_QRacrQG_DATA.DBL: /mnt/lfs5/BMC/gsd-fv3-dev/mpas_dev/hrrr_fix/tables_tempo/MP_TEMPO_HAILAWARE_QRacrQG_DATA.DBL
    namelist:
      update_values:
        data_sources:
          config_geog_data_path: '/lfs5/BMC/wrfruc/Michael.Barlage/mpas/data/mpas_static/'
          config_landuse_data: 'MODIFIED_IGBP_MODIS_NOAH_15s'
          config_soilcat_data: 'BNU'
          config_use_spechumd: true
        vertical_grid:
          config_ztop: 30000.0
          config_blend_bdy_terrain: false
        preproc_stages:
          config_native_gwd_static: false
          config_static_interp: false
create_lbcs: !remove
forecast:
  mpas:
    domain: global
    execution:
      batchargs:
        cores: 256
        walltime: 02:30:00
    lateral_boundary_conditions: !remove
    files_to_link:
      MP_THOMPSON_QRacrQG_DATA.DBL: !remove
      MP_THOMPSON_QRacrQS_DATA.DBL: !remove
      MP_THOMPSON_freezeH2O_DATA.DBL: !remove
      MP_THOMPSON_QIautQS_DATA.DBL: !remove
      MP_TEMPO_QRacrQS_DATA.DBL: /mnt/lfs5/BMC/gsd-fv3-dev/mpas_dev/hrrr_fix/tables_tempo/MP_TEMPO_QRacrQS_DATA.DBL
      MP_TEMPO_freezeH2O_DATA.DBL: /mnt/lfs5/BMC/gsd-fv3-dev/mpas_dev/hrrr_fix/tables_tempo/MP_TEMPO_freezeH2O_DATA.DBL
      MP_TEMPO_QIautQS_DATA.DBL: /mnt/lfs5/BMC/gsd-fv3-dev/mpas_dev/hrrr_fix/tables_tempo/MP_TEMPO_QIautQS_DATA.DBL
      MP_TEMPO_HAILAWARE_QRacrQG_DATA.DBL: /mnt/lfs5/BMC/gsd-fv3-dev/mpas_dev/hrrr_fix/tables_tempo/MP_TEMPO_HAILAWARE_QRacrQG_DATA.DBL
    length: 12
    namelist:
      update_values:
        nhyd_model:
          config_dt: 60
          config_number_of_sub_steps: 6
          config_len_disp: 15000.0
        limited_area:
          config_apply_lbcs: false
        physics:
          config_physics_suite: hrrrv5
          config_gvf_update: false
          config_frac_seaice: true
          config_deepsoiltemp_update: false
          config_radtlw_interval: 00:15:00
          config_radtsw_interval: 00:15:00
          config_bucket_update: none
          config_convection_scheme: cu_grell_freitas
          config_tempo_aerosolaware: true
          config_tempo_hailaware: false
          config_gwdo_scheme: bl_ugwp_gwdo
          config_lsm_scheme: sf_noah
          num_soil_layers: 4
          config_pbl_scheme: bl_mynnedmf
post:
  mpassit:
    executable: "{{ user.mpas_app }}/exec/atmosphere_model/CCN_ACTIVATE.BIN"
    execution:
      batchargs:
        walltime: 00:12:00
        cores: 256
  upp:
    execution:
      batchargs:
        partition: xjet
        nodes: 48
        tasks_per_node: 12
workflow:
  tasks:
    task_mpas_lbcs: !remove
    task_mpas:
      partition: !remove
      dependency:
        taskdep: 
          attrs:          
            task: mpas_ics
